version: '3.8'

# File ini digunakan untuk scaling multiple instances
# Jalankan dengan: docker-compose -f docker-compose.yml -f docker-compose.scale.yml up -d --scale webapp=3 --scale api=2

services:
  # Web Application - akan di-scale menjadi 3 instances
  webapp:
    ports:
      - "8080-8082:80"

  # API Service - akan di-scale menjadi 2 instances
  api:
    ports:
      - "3000-3001:3000"
